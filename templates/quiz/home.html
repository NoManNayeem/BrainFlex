<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>BrainFlex - Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <!-- FontAwesome for icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <!-- Animation Library -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Imprima"
      rel="stylesheet"
    />

    <!-- Custom styles -->
    <style>
      /* Global styles */
      body {
        font-family: "Roboto", sans-serif; /* Modern sans-serif font for readability */
        background-color: #f8f9fa; /* Light gray background for a clean look */
        margin: 0;
        padding: 0;
        width: 100vw;
        height: 100vh;
        overflow-x: hidden;
      }

      /* Navbar styling for better contrast and visibility */
      .navbar {
        background-color: #2c3e50; /* Dark shade for the navbar */
        padding: 15px;
      }

      .navbar-brand {
        font-size: 1.5em;
        color: white;
      }

      .navbar-nav .nav-link {
        color: white;
        font-size: 1.2em;
        transition: color 0.3s; /* Smooth color transition */
      }

      .navbar-nav .nav-link:hover {
        color: #18bc9c; /* Highlight color on hover */
      }

      /* Campaign slider */
      .campaign-slider {
        width: 100%;
        margin-bottom: 20px;
      }

      /* Campaign table styling */
      .campaign-table {
        width: 100%;
      }

      .campaign-table th,
      .campaign-table td {
        padding: 10px; /* Padding for table cells */
        text-align: center; /* Centered text */
      }

      /* Footer styling */
      .footer {
        background-color: #2c3e50; /* Matching navbar color */
        color: white; /* High contrast for readability */
        padding: 20px; /* Padding for comfort */
        text-align: center; /* Centered text */
        font-size: 1.2em; /* Larger font for readability */
        height: 100px;
        bottom: 0;
        width: 100%;
      }

      /* Text Animation Styles */
      .textanimation {
        font-family: "Imprima", sans-serif;
        background: #333;
        color: #fff;
        text-align: center;
        padding: 20px;
        margin-bottom: 20px;
      }

      .textanimation #wrapper {
        margin: 60px auto; /* Centering the wrapper */
        max-width: 380px;
      }

      .textanimation p {
        margin: 0;
        font-size: 20px;
        white-space: nowrap;
        overflow: hidden;
        display: block; /* Ensures each paragraph is on a new line */
      }

      .textanimation .f1 {
        animation: anm1 3s steps(60, end) forwards;
      }

      .textanimation .s2 {
        opacity: 0;
        animation: fadeIn 2s ease forwards; /* Define fadeIn animation */
      }

      .textanimation .f1.s2 {
        opacity: 1; /* Ensures text stays visible after animation */
      }

      .textanimation .line {
        animation: blink 2s linear infinite; /* Adjusted for blinking cursor effect */
      }

      @keyframes anm1 {
        from {
          width: 0;
        }
        to {
          width: 100%;
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes blink {
        50% {
          opacity: 0;
        }
        100% {
          opacity: 1;
        }
      }

      /* Responsive styles */
      @media (max-width: 992px) {
        .navbar-brand,
        .navbar-nav .nav-link {
          font-size: 1em; /* Smaller font size on smaller screens */
        }

        .campaign-table th,
        .campaign-table td {
          padding: 5px; /* Smaller padding for table cells */
        }

        .footer {
          font-size: 1em; /* Adjust footer font size */
        }
      }

      @media (max-width: 768px) {
        .navbar-nav {
          flex-direction: column; /* Stack nav items vertically on smaller screens */
        }
      }

      @media (max-width: 576px) {
        .navbar {
          padding: 10px; /* Reduce navbar padding on extra small devices */
        }

        .footer {
          padding: 15px; /* Adjust footer padding */
          font-size: 0.9em; /* Further reduce footer font size */
        }

        .textanimation {
          padding: 20px; /* Add padding to text animation area */
        }
      }
    </style>
    <!-- Chart.js for charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <!-- Navigation bar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
      <a class="navbar-brand" href="/home">BrainFlex</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto">
          <!-- Logout option -->
          <li class="nav-item mr-2">
            <a class="nav-link" href="/logout"
              ><i class="fas fa-sign-out-alt"></i> Logout</a
            >
          </li>
        </ul>
      </div>
    </nav>

    <!-- Grid layout for slider and table -->
    <div class="container mt-4">
      <div class="row">
        <!-- Column for the slider -->
        <div class="col-md-6">
          <!-- Campaign slider -->
          <div
            id="carouselExampleControls"
            class="carousel slide campaign-slider"
            data-ride="carousel"
          >
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img
                  src="https://cdn.pixabay.com/photo/2018/03/20/00/41/dice-3241802_1280.jpg"
                  class="d-block w-100"
                  alt="..."
                />
              </div>
              <div class="carousel-item">
                <img
                  src="https://cdn.pixabay.com/photo/2023/12/04/02/33/ai-generated-8428581_1280.jpg"
                  class="d-block w-100"
                  alt="..."
                />
              </div>
              <div class="carousel-item">
                <img
                  src="https://cdn.pixabay.com/photo/2018/10/03/08/47/competition-3720732_1280.jpg"
                  class="d-block w-100"
                  alt="..."
                />
              </div>
              <!-- Add more carousel items as needed -->
            </div>
            <a
              class="carousel-control-prev"
              href="#carouselExampleControls"
              role="button"
              data-slide="prev"
            >
              <span
                class="carousel-control-prev-icon"
                aria-hidden="true"
              ></span>
              <span class="sr-only">Previous</span>
            </a>
            <a
              class="carousel-control-next"
              href="#carouselExampleControls"
              role="button"
              data-slide="next"
            >
              <span
                class="carousel-control-next-icon"
                aria-hidden="true"
              ></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
        </div>
        <!-- Column for the table -->
        <div class="col-md-6 textanimation">
          <div class="item-center justify-center" align="center">
            <div id="wrapper">
              <p class="f1">Welcome to BrainFlex!</p>
              <p class="s2">
                Redefine what it means to be a genius.
                <span class="line">|</span>
              </p>
              <button type="button" class="btn btn-info text-white btn-lg mt-2">
                <a href="#campaign_section" class="text-white button"
                  >Play Now!</a
                >
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Campaign table section -->
    <div class="container mt-4 mb-4" id="campaign_section">
      <h2 class="text-center">Campaigns</h2>
      <div class="table-responsive">
        <table
          class="campaign-table table table-striped table-bordered table-dark"
        >
          <thead>
            <tr>
              <th>Campaign Name</th>
              <th>Start Date</th>
              <th>End Date</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            {% for campaign in campaigns %}
            <tr>
              <td>{{ campaign.name }}</td>
              <td>{{ campaign.start_date }}</td>
              <td>{{ campaign.end_date }}</td>
              <td>{{ campaign.status }}</td>
              <td>
                <button
                  type="button"
                  class="btn btn-primary btn-sm"
                  data-toggle="modal"
                  data-target="#campaignDetailsModal-{{ campaign.id }}"
                >
                  Let's Play!
                </button>
              </td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="5" class="text-center">No campaigns available.</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>

    <!-- Campaign Details Modals -->
    {% for campaign in campaigns %}
    <div
      class="modal fade"
      id="campaignDetailsModal-{{ campaign.id }}"
      tabindex="-1"
      role="dialog"
      aria-labelledby="campaignDetailsModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="campaignDetailsModalLabel">
              Campaign Details - {{ campaign.name }}
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>{{ campaign.description }}</p>
            <h6>Prizes:</h6>
            <ul>
              {% for prize in campaign.prizes.all %}
              <li>{{ prize.prize_detail }}: {{ prize.prize_description }}</li>
              {% empty %}
              <li>No prizes listed.</li>
              {% endfor %}
            </ul>
            <!-- More details can be added here -->
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <a href="/campaign/{{ campaign.id }}/" class="btn btn-primary"
              >Play Now</a
            >
          </div>
        </div>
      </div>
    </div>
    {% endfor %}

    <!-- Footer -->
    <div class="footer">
      &copy; 2024 BrainFlex. All rights reserved. |
      <a href="privacy-policy/" style="color: white; text-decoration: underline"
        >Privacy Policy</a
      >
      |
      <a
        href="terms-of-service/"
        style="color: white; text-decoration: underline"
        >Terms of Service</a
      >
    </div>

    <!-- External scripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- jQuery -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Bootstrap JS -->
    <script>
      (function () {
        var element = document.getElementsByTagName("p");
        setInterval(function () {
          if (element[0].clientWidth == 380) {
            element[1].classList.add("f1");
          }
        }, 1000);
      })();
    </script>
  </body>
</html>
